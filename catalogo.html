<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8">
  <title>Catálogo</title>
  <script type="module">
    // Importações do Firebase
    import { initializeApp } from "https://www.gstatic.com/firebasejs/9.0.0/firebase-app.js";
    import { getAuth, onAuthStateChanged, signOut } from "https://www.gstatic.com/firebasejs/9.0.0/firebase-auth.js";

    const firebaseConfig = {
      apiKey: "AIzaSyBgPvmrfclA8XTGtTsSCeDE390wVK46V9E",
      authDomain: "caseirinhosne.firebaseapp.com",
      databaseURL: "https://caseirinhosne-default-rtdb.firebaseio.com",
      projectId: "caseirinhosne",
      storageBucket: "caseirinhosne.firebasestorage.app",
      messagingSenderId: "446497107875",
      appId: "1:446497107875:web:d0c57713931048a96eb416",
      measurementId: "G-JDZMDE7K1E"
    };

    const app = initializeApp(firebaseConfig);
    const auth = getAuth(app);

    window.addEventListener("DOMContentLoaded", () => {
      const loginLink = document.getElementById("loginLink");
      const cadastroLink = document.getElementById("cadastroLink");
      const nav = document.querySelector("nav");

      onAuthStateChanged(auth, (user) => {
        if (user) {
          // Oculta login e cadastro
          loginLink.style.display = "none";
          cadastroLink.style.display = "none";

          // Adiciona botão "Sair"
          const logoutBtn = document.createElement("a");
          logoutBtn.href = "#";
          logoutBtn.textContent = "Sair";
          logoutBtn.onclick = () => {
            signOut(auth).then(() => location.reload());
          };
          nav.appendChild(logoutBtn);
        }
      });
    });
  </script>
  <style>
    /* seu CSS completo continua aqui sem mudanças */
    /* ... mantido igual ... */
  </style>
</head>
<body>
  <header>
    <h1>Caseirinhos da Ne</h1>
    <nav>
      <a href="index.html">Home</a>
      <a href="catalogo.html">Catálogo</a>
      <a href="carrinho.html">Carrinho</a>
      <a href="login.html" id="loginLink">Login</a>
      <a href="cadastro.html" id="cadastroLink">Cadastro</a>
    </nav>
  </header>

  <main>
    <h2>Catálogo de Doces</h2>
    <div class="produto-container" id="produtos"></div>
  </main>

  <script>
    const produtos = [
      {
        nome: "Bolo de cenoura",
        descricao: "Bolo de cenoura assado na embalagem com cobertura de brigadeiro de chocolate",
        preco: 2.5,
        imagem: "d1.jpg"
      },
      {
        nome: "Bolo no pote",
        descricao: "Bolo no pote de chocolate e brigadeiro de chocolate. Massa baunilha, brigadeiro e mousse de chocolate branco",
        preco: 2.5,
        imagem: "d2.jpg"
      },
      {
        nome: "Mini bolo",
        descricao: "Mini bolo vulcão de cenoura com cobertura de brigadeiro de chocolate",
        preco: 2.5,
        imagem: "d3.jpg"
      },
      {
        nome: "Pudim",
        descricao: "Pudim de leite condensado",
        preco: 3.0,
        imagem: "d4.jpg"
      }
    ];

    const produtosContainer = document.getElementById("produtos");

    produtos.forEach((produto) => {
      const div = document.createElement("div");
      div.classList.add("produto");
      div.innerHTML = `
        <img src="${produto.imagem}" alt="${produto.nome}" />
        <h3>${produto.nome}</h3>
        <p>${produto.descricao}</p>
        <p><strong>R$ ${produto.preco.toFixed(2)}</strong></p>
        <button onclick='adicionarAoCarrinho(${JSON.stringify(produto)})'>Adicionar ao carrinho</button>
      `;
      produtosContainer.appendChild(div);
    });

    function adicionarAoCarrinho(produto) {
      let carrinho = JSON.parse(localStorage.getItem("carrinho")) || [];
      carrinho.push(produto);
      localStorage.setItem("carrinho", JSON.stringify(carrinho));
      alert(`${produto.nome} adicionado ao carrinho!`);
    }
  </script>
</body>
</html>
